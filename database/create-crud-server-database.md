이전글: [api만들기 (express)](https://sleepybird.tistory.com/142)
___
# 데이터베이스를 활용해서 리팩토링하기  
기존에 있던 데이터 방식은, 서버를 실행시키는 스크립트 내에서  
계속 참조값(배열 또는객체)에다 값을 변경만 계속 해주고 있었다.  
즉 서버를 실행시키는 스크립트가 꺼지면 __할당한 데이터도 사라진다.__  
그래서 fileSystem모듈을 활용해 특정파일에다 __직접 기록__ 하는 방법도 있지만,  
그 또한 데이터 구조에 한계가 있다.  
그래서 __sequelize orm을 활용해__ 데이터베이스에 접근하는 방식으로 리팩토링 할것이다.  
사실상 __리팩토링이아닌 전체적으로 갈아엎어야한다.__  
시퀄라이즈 cli 를활용하면 __아주 간편하게 데이터베이스와 연결할 수 있다.__
___
# 테이블 구조 짜기  
이전 글에서 보면 알겠지만 , 내가 만든서버에는 회원가입도 필요없다.  
이름과 비밀번호 입력란, 그리고 내용을 입력할 뿐이다.  
각커멘트마다 primary key를 가지게 한다.  
  
|id|name|password|comment|
|---|---|---|---|
|1|'코공'|'ab123'|'코공코공'|

이런식으로 게시글이 __생성__ 되면 __INSERT TO__ 명령이 일어나고  
__삭제__ 되면 __DELETE__ 명령어, __수정__되면 __UPDATE__,  
그리고 읽어올떄는 SELECT id, name, comment FROM table를 불러올것이다.  

## 스키마 코드  

